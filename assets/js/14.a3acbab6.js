(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{381:function(t,a,s){"use strict";s.r(a);var e=s(45),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"cat-client-for-c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cat-client-for-c"}},[t._v("#")]),t._v(" Cat Client for C")]),t._v(" "),s("p",[s("code",[t._v("ccat")]),t._v(" 同时支持 Linux (glibc 和 musl-libc) 和 OSX 两个平台。")]),t._v(" "),s("p",[t._v("下述列出的操作系统是经过测试可用的：")]),t._v(" "),s("ul",[s("li",[t._v("OSX (>=10.13)")]),t._v(" "),s("li",[t._v("Alpine linux")]),t._v(" "),s("li",[t._v("CentOS 6")]),t._v(" "),s("li",[t._v("CentOS 7")]),t._v(" "),s("li",[t._v("Ubuntu 14.04 LTS")]),t._v(" "),s("li",[t._v("Ubuntu 16.04 LTS")]),t._v(" "),s("li",[t._v("Ubuntu 18.04 LTS")])]),t._v(" "),s("p",[t._v("我们也提供了 c++ 版本的客户端，参考 "),s("RouterLink",{attrs:{to:"/zh/guide/cpp/README.zh-CN.html"}},[t._v("cppcat")])],1),t._v(" "),s("h2",{attrs:{id:"编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[t._v("#")]),t._v(" 编译")]),t._v(" "),s("p",[t._v("你需要安装一个支持 C99 的 C 编译器。")]),t._v(" "),s("p",[t._v("你同时还需要安装 "),s("code",[t._v("cmake")]),t._v(" 和 "),s("code",[t._v("make")]),t._v("，这是我们用来构建动态或静态链接库以及可执行文件的工具。")]),t._v(" "),s("p",[t._v("当你准备好你的环境之后，编译安装 "),s("code",[t._v("ccat")]),t._v(" 就很容易了。")]),t._v(" "),s("p",[t._v("(在项目根目录下，就包含 CMakeList.txt 的那个)")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mkdir -p cmake\ncd cmake && cmake .. && make -j\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("p",[t._v("下面的命令将会把 "),s("code",[t._v("libcatclient.so")]),t._v("（或者在 osx 下是 .dylib）安装到你的 "),s("code",[t._v("LD_LIBRARY_PATH")]),t._v(" 目录下，大多数情况下是 "),s("code",[t._v("/usr/local/lib")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make install\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("然后你就可以像使用一个内置动态库一样使用 "),s("code",[t._v("ccat")]),t._v(" 了。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("gcc -lcatclient x.c\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"初始化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[t._v("#")]),t._v(" 初始化")]),t._v(" "),s("p",[t._v("一些"),s("RouterLink",{attrs:{to:"/zh/guide/_/preparations.zh-CN.html"}},[t._v("准备工作")]),t._v("需要在初始化 "),s("code",[t._v("ccat")]),t._v(" 之前完成。")],1),t._v(" "),s("p",[t._v("当你完成这些准备工作后，在你的 c 代码中初始化 "),s("code",[t._v("ccat")]),t._v(" 就很简单了。")]),t._v(" "),s("div",{staticClass:"language-c line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<client.h>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catClientInit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appkey"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("blockquote",[s("p",[t._v("appkey 只能包含英文字母 (a-z, A-Z)、数字 (0-9)、下划线 (_) 和中划线 (-)")])]),t._v(" "),s("p",[t._v("注意，"),s("strong",[t._v("采样")]),t._v("，内置"),s("strong",[t._v("心跳")]),t._v("，"),s("strong",[t._v("二进制")]),t._v("序列化在默认情况下是开启的，你可能会想要禁用他们。我们同时提供了一个 API 可以使你自定义启动参数，请参考 "),s("RouterLink",{attrs:{to:"/zh/guide/client/docs/api.zh-CN.html"}},[t._v("API 文档")])],1),t._v(" "),s("h2",{attrs:{id:"documentation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#documentation"}},[t._v("#")]),t._v(" Documentation")]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/zh/guide/client/docs/api.zh-CN.html"}},[t._v("API 文档")])],1)])}),[],!1,null,null,null);a.default=n.exports}}]);